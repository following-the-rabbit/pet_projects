Расчет "числа Лемтюгова"

Цель проекта: 

Создать аналог числа Эрдёша — Бэйкона для отечественных хоккеистов, называемый "Числом Лемтюгова" , чтобы измерять "близость" хоккеистов к Николаю Лемтюгову через команды, в которых они играли.


 Описание проекта
| Наименование проекта | Описание | Навыки и инструменты  |
| :--------------------: | :---------------------: |:---------------------------:|
| [Lemtyugov degrees - Расчет "числа Лемтюгова"]([https://github.com/ekaterina-zakharova/Pet-projects/blob/main/Lemtyugov%20degrees/Masterskaya%20-%20Lemtyugov%20degree_fin.ipynb](https://github.com/following-the-rabbit/pet_projects/blob/main/Lemtyugov_number/Lemtyugov_number.ipynb)) | В ходе выполнения проекта были произведены следующие работы: обработка исходных данных, анализ подготовленных данных в разрезе интересующих нас параметров, визуализация переходов игроков между командами в Sankey chart, визуализация переходов игроков в Хордовой диаграмме, были найдены все одноклубники, расчитано "Число Лемтюгова" для каждого игрока, визуализация связей между игроками с помощью графа, были выдвинуты и проверены гипотезы по успешности игроков| *Python, Pandas, Seaborn, Holoviews, Bokeh, Queue* |

**Выводы по проекту**:
- Каждый игрок из датасета находится в среднем на расстоянии 2 "рукопожатий" от Николая Лемтюгова. Максимальное "число Лемтюгова" = 3 "рукопожатия".

- По количеству смененных команд лидируют - Геннадий Столяров, Александр Рязанцев и Денис Казионов. Николай Лемтюгов по этому показателю - на 4 месте.

- По количеству переходов лидируют Михаил Жуков и Евгений Лапенков. Николай Лемтюгов с 11ю переходами на 4 месте.

- Больше всего переходов между ЦСК и ХК Сочи.

- В тройке лидеров команд по количеству игравших в них хоккеистов: Спартак, Нефтехимик и Амур.
  

Касательно проверки гипотез:



- гипотеза о том, что Лемтюгов – самый популярный хоккеист в лиге, не подтверждается. Абсолютным лидером по числу одноклубников является Евгений Лапенков. Николай Лемтюгов не входит в Топ-50 игроков с самым большим числом одноклубников.

- гипотеза о том, что есть игроки для которых "число Лемтюгова" отсутствует, также опровергнута. У всех игроков есть связи.

- гипотеза о том, что на "успешность" хоккеистов вляет вес - подтвердилась, а вот рост - не влияет на "успешность".

- гипотеза о том, что на "успешность" влияет месяц рождения подтвердилась только для вратарей. Причем, самые успешные вратари по числу отраженных шайб рождаются в марте. Для нападающих и защитников месяц рождения не оказывает влияния на мастерство!

  
  
  
Статус проекта: Завершен.


В папке Raw data собраны используемые для проекта файлы


**Часть 2**

* **Загрузка данных.**
    * Загружены 2 датасета с сайта **en.khl.ru** с информацией о периодах нахождения игроков в командах КХЛ и со статистикой игроков.
    * Изучена информация о них.
    * Проверено наличие дубликатов.
* **Предобработка данных.**
    * **Информация о периодах нахождения игроков в командах КХЛ.**
        * Выделены id игроков.
        * Создан словарь, где id - это ключ игрока, а имя и фамилия - это значение словаря.
        * Изучены данные на примере Николая Лемтюгова, периоды прибывания его в разных командах соответствуют действительности.
        * Исследован датафрейм, сформулированы **предварительные выводы:**
            * Большего всего строчек относится к командам (топ-5): Спартак - 370, Нефтехимик - 369, Амур - 356, Торпедо - 352, Витязь -346
            * Количество уникальных id игроков - 3720, количество уникальных имен и фамилий игроков - 3712, что свидетельствует о тезках и однофамильцах.
    * **Статистика игроков КХЛ.**
        * Даты рождения преобразованы в формат datetime.
        * Добавлена колонка с месяцем рождения игрока.
        * Выделены id игроков.        
* **Выделены топы.**
    * Топ-15 игроков по количеству команд за карьеру в КХЛ.
    * Топ-15 игроков по количеству переходов за карьеру в КХЛ.
    * Топ-15 команд по количеству игроков.
* **Визуализация переходов игроков между командами.**
    * **Sankey Chart** диаграммы:
        * Переходы топ-20 игроков между командами КХЛ.
        * Переходы игроков между топ-5 команд КХЛ.
    * **Сhord** диаграммы:
        * Переходы топ-20 игроков между командами.
        * Топ-20 по количеству переходов между двумя командами.
* **Поиск одноклубников.**
    * Создана таблица с одноклубниками, в которой образованы пары игроков, которые когда-либо находились в одном клубе.
    * Промаркированы пары игроков, которые играли в одном клубе в одно время.
    * Сформирован топ-75 игроков по количеству одноклубников за время существования КХЛ. Николай Лемтюгов на 71 месте и у него 357 одноклубников. У первой тройки игроков число одноклубников около 470.
* **Расчет числа Лемтюгова.**
    * Создан граф – словарь с игроками и их одноклубниками.
    * Создана функция обхода графа и поиска кратчайшего пути между его вершинами.
    * Рассчитаны расстояния (количество рукопожатий) или Число Лемтюгова:
        * от **Николая Лемтюгова** до всех игроков КХЛ. Максимальное расстояние 3, медианное 2.0, среднее 1.92.
        * от **Евгения Лапенкова** до всех игроков КХЛ. Максимальное расстояние 3, медианное 2.0, среднее 1.88.
        * от **Либора Касика** до всех игроков КХЛ. Максимальное расстояние 4, медианное 2.0, среднее 2.48.
* **Визуализация графов.**
    * Создан граф Топ-75 игроков по количеству одноклубников, визуализация графа осуществлена библиотекой Networkx.
    * Создан граф Топ-10 игроков по количеству одноклубников, визуализация графа осуществлена библиотекой Holoview.
    * Создан граф Топ-5 игроков по количеству одноклубников, визуализация графа осуществлена библиотекой Holoview.
* **Проверены гипотезы.**
    *  **Гипотеза 1** о том, что Лемтюгов – самый популярный хоккеист в лиге, то есть обладающий самым большим количеством одноклубников. Если это не так, составить список наиболее популярных игроков. Гипотеза не подтверждена.
        * Ход нашего исследования показал, что у Николая Лемтюгова было 357 одноклубников, это только 71 место по данному показателю. Составлен топ-10 популярных игроков. **Гипотеза не подтверждена.**
    *  **Гипотеза 2.** Правда ли, что игроки с низким значением числа Лемтюгова играли в среднем в большем количестве команд, чем игроки, у которых это значение больше?
        * Из сравнения средних и медиан по количеству одноклубников видно, что игроки с низким значением числа Лемтюгова играли в среднем в большем количестве команд, чем игроки, у которых это значение выше. **Гипотеза подтверждена.**
    * **Гипотеза 3.** Есть ли игроки, у которых отсутствует число Лемтюгова (нет связей через других игроков)?
        * Ранее в ходе нашего исследования для всех игроков КХЛ (3720 человек) было найдено число Лемтюгова, что говорит нам о том, что **нет** игроков, у которых отсутствует число Лемтюгова (нет связей через других игроков). **Гипотеза не подтверждена.**
    *  **Гипотеза 4.** Есть ли связь между количеством переходов и ростом/весом игрока (предполагаем, что игроки, у которых рост выше, лучше играют в хоккей и соответственно чаще переходят из клуба в клуб)?
        * Рассмотрев разные комбинации (рост и вес выше/ниже среднего, рост выше/ниже среднего, вес выше/ниже среднего) нельзя утверждать, что рост или вес сильно влияют на количество трансферов у игроков, однако замечена слабая корреляция между весом и количеством трансферов. Из наблюдений по весу ниже/выше среднего, можно заметить, что при весе выше среднего количество трансферов выше, возможно игроки, набравшие лишний вес менее привлекательны для команд, что способствует их переходу в другие команды. **Гипотеза не подтверждена.**
    *  **Гипотеза 5.** Более успешные хоккеисты рождаются в январе-марте.
        * На примере всех когорт хоккеистов, не удалось обнаружить статистически значимые различия в успешности игроков, родившихся в разные месяцы. **Гипотеза не подтверждена.**
